function messageCreate(e){$("#message-add-fav").remove(),$('<div class="system-message" id="message-add-fav"><div class="system-message__icon glyphicon glyphicon-ok"></div><div class="system-message__text fs-8" id="add-fav-text">'+e+"</div></div>").insertAfter($("footer")),setTimeout((function(){$("#message-add-fav").addClass("active")}),0),setTimeout((function(){$("#message-add-fav").removeClass("active")}),1e3),setTimeout((function(){$("#message-add-fav").remove()}),1100)}$((function(){function e(){+$("#fav-count").text()>0?$("#fav-count").css({display:"block"}):$("#fav-count").css({display:"none"})}function t(e){$("#"+e+" input[type='search']").keyup((function(){let t=$(this).val(),s=0;$("#"+e+" .form-check input:checkbox").each((function(){$(this).val().search(new RegExp(t,"i"))<0?$(this).parent().hide():($(this).parent().show(),s++)})),s<5?$("#"+e+" .text-end").hide():$("#"+e+" .text-end").show(),s<1?$("#"+e+" .not-found").removeClass("d-none"):$("#"+e+" .not-found").addClass("d-none")})),$("#"+e+" .view-all").click((function(){$("#"+e+" .checkbox-list").toggleClass("open"),$("#"+e+" .checkbox-list").hasClass("open")?$("#"+e+" .view-all").text("hide all"):$("#"+e+" .view-all").text("view all")}))}function s(e){$(".catalog-filters-btn").remove();const t=$(this).position().top-25,s=$('<button type="submit" class="catalog-filters-btn fs-6 position-absolute d-flex align-items-center">\n                          Применить\n                          <a class="catalog-filters-btn-close" href="#"></a>\n                        </button>').css("top",t);$(this).closest(".collapse-container").append(s),$(".catalog-filters-btn-close").on("click",a)}function a(e){e.preventDefault(),$(this).closest(".catalog-filters-btn").remove()}$((function(){$(".selectpicker").selectpicker()})),$(document).on("click.bs.dropdown.data-api",".noclose",(function(e){e.stopPropagation()})),$("#hsearch-input").focus((function(){$("#hlogo").toggleClass("col-xs-3 d-none d-sm-block"),$("#hnav").toggleClass("col-xs-3 d-none d-sm-block"),$("#hsearch").toggleClass("col-xs-6 col-xs-12 col-12")})),$("#hsearch-input").blur((function(){$("#hlogo").toggleClass("col-xs-3 d-none d-sm-block"),$("#hnav").toggleClass("col-xs-3 d-none d-sm-block"),$("#hsearch").toggleClass("col-xs-6 col-xs-12 col-12")})),$(".favme").click((function(){$(this).toggleClass("active"),$(".favme").blur();let t=$("#fav-count").text();if($(this).hasClass("active"))$.ajax({url:favUrl,type:"get",success:function(s){$("#fav-count").text(+t+1),e()}}),messageCreate("Добавлено в избранное");else{const e=$(this).parents(".col"),s=$(this).parents(".car-card");if($(s).hasClass("car-card-favme")){const a=$(s).attr("data-url");$.ajax({url:a,type:"get",success:function(a){$("#fav-count").text(t-1),$(s).hasClass("car-card-favme")&&$(e).remove(),messageCreate("Удалено из избранных")}})}else $("#fav-count").text(t-1),messageCreate("Удалено из избранных")}e()})),$(".favme").on("click touchstart",(function(){$(this).toggleClass("is_animating")})),$(".favme").on("animationend",(function(){$(this).toggleClass("is_animating")})),$(document).ready((function(){e(),+$("#rep-count").text()>0?$("#rep-count").css({display:"block"}):$("#rep-count").css({display:"none"})})),$(".dropdown-backdrop").on("click",(function(){$("body").removeClass("modal-open")})),$(".range-year-container").on("click",(function(){$("body").addClass("dropdown-open")})),$(".range-year").on("hidden.bs.dropdown",(function(){$("body").removeClass("dropdown-open"),$(".custom-backdrop").remove()})),t("year"),t("year2"),t("year3"),t("category"),$('.catalog-filters input[type="checkbox"]').change(s),$('.catalog-filters input[type="number"]').change(s),$('.catalog-filters input[type="text"]').change(s),$('.catalog-filters input[type="radio"]').change(s),$(".catalog-filters-btn-close").on("click",a);const o=document.querySelectorAll(".needs-validation");function n(e){const t=$("#login-tab");new bootstrap.Tab(t).show()}function i(e){const t=$("#register-tab");new bootstrap.Tab(t).show()}function c(){const e=this;if(this.files&&this.files.length){let t=new FileReader;t.onload=function(t){$(e).siblings("img").attr("src",t.target.result)},t.readAsDataURL(this.files[0])}}function l(e){e.preventDefault(),$(this).closest(".add-form-field").remove()}Array.from(o).forEach((e=>{e.addEventListener("submit",(t=>{if(e.checkValidity()){t.preventDefault();const e=$(this),s=e.find("input[name='email']").val(),a=e.find("input[name='name']").val(),o=e.find("textarea[name='message']").val(),n=$(".needs-validation").attr("action");if("post"==t.currentTarget.method.toLocaleLowerCase()){$.post(n,{email:s,name:a,message:o}).done((function(e){$(".footer-section__contact-form").addClass("d-none"),$(".footer-section__message").removeClass("d-none")}))}else if("get"==t.currentTarget.method.toLocaleLowerCase()){$.get(n,{email:s,name:a,message:o}).done((function(e){$(".footer-section__contact-form").addClass("d-none"),$(".footer-section__message").removeClass("d-none")}))}}else t.preventDefault(),t.stopPropagation();e.classList.add("was-validated")}),!1)})),$("#ref-btn").click((function(){var e=$("<textarea>");$("body").append(e),e.val($("#ref-link").text()).select(),document.execCommand("copy"),e.remove(),$(".ref-link__message").remove(),$(".ref-link-container").append('<div class="ref-link__message">Скопировано</div>'),setTimeout((()=>{$(".ref-link__message").remove()}),3e3)})),$("#share-btn").click((function(){var e;e=$("<input>"),$("body").append(e),e.val($(location).prop("href")).select(),document.execCommand("copy"),e.remove(),messageCreate("Ссылка скопирована")})),$(".btnNext").click((function(e){e.preventDefault();const t=$(".nav-auth .active").closest("li").next("li").find("a")[0];new bootstrap.Tab(t).show()})),$(".btnPrevious").click((function(e){e.preventDefault();const t=$(".nav-auth .active").closest("li").prev("li").find("a")[0];new bootstrap.Tab(t).show()})),$("#loginBtn").click(n),$("#registerBtn").click(i),$(".login-button").click(n),$(".register-button").click(i),$("#close-invite").click((function(){$(".invite-wrapper").hide()})),$("#change-password").click((function(){$("#password-msg").addClass("d-block")})),$(".star").click((function(){$(this).addClass("active").prevAll().addClass("active"),$(this).nextAll().removeClass("active"),$("#stars-count").text($(".star.active").length)})),$(".star:not(.hover)").mouseenter((function(){$(this).addClass("hover").prevAll(":not(.active,.hover)").addClass("hover"),$(this).nextAll().removeClass("hover")})),$(".stars").mouseleave((function(){$(".stars .hover").removeClass("hover")})),$("#upload").change((function(){document.querySelectorAll(".images-wrapper").forEach((e=>e.remove())),this.files&&this.files.length&&Object.values(this.files).forEach(((e,t)=>{let s=new FileReader;s.onload=function(e){$(".images").append($(`<div class="images-wrapper position-relative"><a href="#" class="btn-close images-remove position-absolute top-0 end-0"></a><div class="images-item" style="background-image: url(${e.target.result})"></div></div>`)),$(".images-remove").on("click",(function(e){e.preventDefault(),document.querySelectorAll(".images-wrapper").forEach((e=>e.remove())),$("#upload").val("")}))},s.readAsDataURL(e)}))})),$(".upload-photo").change(c),$(".settings-company-input").change((function(){if(this.files&&this.files.length){let e=new FileReader;e.onload=function(e){$(".settings-company-img").attr("src",e.target.result)},e.readAsDataURL(this.files[0])}})),$(".accordion-item-remove").click((function(e){e.preventDefault(),$(this).closest(".accordion-item").remove()})),$(".add-form-field-remove").click(l),$("#price-add").click((function(){$(".add-price-body").append($('<div class="settings-form-field add-form-field">\n                                <div class="row g-2 g-sm-4 g-xxl-5">\n                                  <div class="col-7"><textarea class="textarea"></textarea></div>\n                                  <div class="col-5">\n                                    <div class="ps-0 ps-xxl-4 d-flex align-items-center">\n                                      <input type="text"><a class="add-form-field-remove" href="#"><span></span></a>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>')),$(".add-form-field-remove").click(l)})),$("#photo-add").click((function(){$(".add-photo-body").append($('<div class="settings-form-field add-form-field">\n                                  <div class="row">\n                                    <div class="col-3 col-sm-3 col-md-3">\n                                      <div class="photo-wrapper">\n                                        <label class="photo-btn">\n                                          <img src="img/company/add-photo-cover.png" alt="">\n                                          <input class="upload-photo d-none" type="file">\n                                        </label>\n                                      </div>\n                                    </div>\n                                    <div class="col-4 col-sm-4 col-md-3">\n                                      <input type="text" placeholder="Write title  photo">\n                                    </div>\n                                    <div class="col-5 col-sm-5 col-md-6">\n                                      <div class="d-flex">\n                                        <textarea name="" placeholder="Write description  photo"></textarea>\n                                        <a class="add-form-field-remove" href="#"><span></span></a>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>')),$(".add-form-field-remove").click(l),$(".upload-photo").change(c)}))})),$("body").on("click",".pass-control",(function(){return"password"==$("#auth-pass").attr("type")?($(this).addClass("view"),$("#auth-pass").attr("type","text")):($(this).removeClass("view"),$("#auth-pass").attr("type","password")),!1})),$("body").on("click",".pass-control-2",(function(){return"password"==$("#auth-pass-2").attr("type")?($(this).addClass("view"),$("#auth-pass-2").attr("type","text")):($(this).removeClass("view"),$("#auth-pass-2").attr("type","password")),!1})),$("body").on("click",".pass-control-3",(function(){return"password"==$("#auth-pass-3").attr("type")?($(this).addClass("view"),$("#auth-pass-3").attr("type","text")):($(this).removeClass("view"),$("#auth-pass-3").attr("type","password")),!1})),$('.code-form input[type="tel"]').keyup((function(){$(this).val().match(/^\d{1}$/)?$(this).next('.code-form input[type="tel"]').focus():$(this).val("")}));